<template>
  <div class="template-container">
    <!-- ConteÃºdo -->
    <template if:true={isEditing}>
      <div class="slds-form-element">
        <lightning-textarea
          label="Mensagem"
          value={messageTemplate}
          onchange={handleTemplateChange}
          placeholder="Digite a mensagem aqui..."
          rows="3"
          class="template-textarea"
        ></lightning-textarea>
        <div
          class="slds-text-color_weak slds-p-top_x-small slds-text-body_small"
        >
          Use {leadName} para inserir o nome do lead e {userName} para
          inserir seu nome.
        </div>
      </div>
      <div class="slds-grid slds-grid_align-end slds-p-top_small">
        <lightning-button
          label="Cancelar"
          variant="neutral"
          onclick={handleCancel}
          class="slds-m-right_x-small"
        ></lightning-button>
        <lightning-button
          label="Salvar"
          variant="brand"
          onclick={handleSave}
        ></lightning-button>
      </div>
    </template>
    <template if:false={isEditing}>
      <div class="slds-grid slds-grid_align-spread slds-m-bottom_x-small">
        <div class="slds-col">
          <div class="template-title">Modelo de mensagem</div>
        </div>
        <div class="slds-col slds-text-align_right">
          <lightning-button-icon
            icon-name="utility:edit"
            alternative-text="Editar Mensagem"
            title="Editar Template"
            variant="bare"
            onclick={handleEdit}
          >
          </lightning-button-icon>
        </div>
      </div>
      <div class="message-preview">
        <pre>{messageTemplate}</pre>
      </div>
    </template>
  </div>
</template>