@layer range-slider-element {
  /**
   * =====================
   * CONFIGURAÇÕES PERSONALIZÁVEIS
   * =====================
   */

  /* Definições principais do slider - Usando o esquema de cores do kanban de oportunidade */
  range-slider {
    /* Cores baseadas nas probabilidades do kanban */
    --range-slider-track-color: #f8f8f8; /* Cor da trilha não preenchida */
    
    /* Variáveis para as cores das probabilidades */
    --probability-0-color: #c23934;
    --probability-13-color: #e57f1e;
    --probability-34-color: #ffb75d;
    --probability-55-color: #afe16b;
    --probability-89-color: #4bca81;
    --probability-100-color: #058758;
    --probability-undefined-color: #dddbda;
    
    /* Sistema de cores dinâmico */
    --range-slider-thumb-color: var(--probability-55-color); /* Cor padrão do polegar */
    --range-slider-fill-color: var(--probability-55-color); /* Cor padrão da trilha preenchida */
    
    /* Tamanhos */
    --track-size: 0.25rem; /* Espessura da trilha ligeiramente maior */
    --thumb-size: 1.4rem; /* Tamanho do polegar ligeiramente maior */
    
    /* Dimensões */
    inline-size: 220px; /* Largura do slider */
    margin: 5px 0;
    padding: 10px 0;
  }
  
  /* Aparência do polegar (thumb) com diferentes cores baseadas no valor */
  range-slider [data-thumb] {
    border-radius: 100%;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
    transition: transform 0.2s ease, background-color 0.3s ease;
    display: flex;
    align-items: flex-end;
    justify-content: center;
    will-change: transform;
    position: relative;
  }
  
  /* Efeito de interação ao clicar no polegar */
  range-slider [data-thumb]:active {
    transform: scale(1.3);
  }

  /* Mini-card de valor percentual */
  range-slider [data-thumb]::before {
    --card-width: 45px;
    --card-height: 30px;
    content: attr(aria-valuenow) '%';
    box-sizing: border-box;
    position: absolute;
    width: var(--card-width);
    height: var(--card-height);
    bottom: calc(var(--thumb-size) + 10px);
    color: #444444;
    background-color: #ffffff;
    border: 1px solid #ecedf0;
    border-radius: 0.25rem;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    text-align: center;
    padding: 5px 0;
    font-size: 0.8125rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    user-select: none;
    pointer-events: none;
    opacity: 1; /* Bubble sempre visível */
    transform: translateY(0);
    z-index: 1;
  }
  
  /* Seta na parte inferior do card - removida */
  range-slider [data-thumb]::after {
    display: none;
  }

  /* Cores específicas para diferentes valores de probabilidade */
  range-slider[value^="0"] [data-thumb],
  range-slider[value="0"] [data-track-fill] {
    background-color: var(--probability-0-color);
  }
  range-slider[value^="0"] [data-thumb]::before {
    border-left: 3px solid var(--probability-0-color);
  }
  
  range-slider[value^="13"] [data-thumb],
  range-slider[value="13"] [data-track-fill] {
    background-color: var(--probability-13-color);
  }
  range-slider[value^="13"] [data-thumb]::before {
    border-left: 3px solid var(--probability-13-color);
  }
  
  range-slider[value^="34"] [data-thumb],
  range-slider[value="34"] [data-track-fill] {
    background-color: var(--probability-34-color);
  }
  range-slider[value^="34"] [data-thumb]::before {
    border-left: 3px solid var(--probability-34-color);
  }
  
  range-slider[value^="55"] [data-thumb],
  range-slider[value="55"] [data-track-fill] {
    background-color: var(--probability-55-color);
  }
  range-slider[value^="55"] [data-thumb]::before {
    border-left: 3px solid var(--probability-55-color);
  }
  
  range-slider[value^="89"] [data-thumb],
  range-slider[value="89"] [data-track-fill] {
    background-color: var(--probability-89-color);
  }
  range-slider[value^="89"] [data-thumb]::before {
    border-left: 3px solid var(--probability-89-color);
  }
  
  range-slider[value^="100"] [data-thumb],
  range-slider[value="100"] [data-track-fill] {
    background-color: var(--probability-100-color);
  }
  range-slider[value^="100"] [data-thumb]::before {
    border-left: 3px solid var(--probability-100-color);
  }
  
  /* Estado desabilitado */
  range-slider[disabled] {
    filter: grayscale(0.8);
    opacity: 0.5;
  }
  
  /* Trilha preenchida com gradiente suave */
  range-slider [data-track-fill] {
    transition: background-color 0.3s ease;
  }
  
  /* Marcadores para os valores específicos de probabilidade */
  range-slider::before {
    content: "";
    position: absolute;
    top: calc(50% + var(--track-size) + 5px);
    left: 0;
    right: 0;
    height: 5px;
    display: flex;
    justify-content: space-between;
    pointer-events: none;
  }
  
  /* Indicador de valores em porcentagem - aparece abaixo do slider - removido em favor do bubble */
  range-slider::after {
    content: "";
    display: none;
  }
}
